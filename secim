WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, "/html/body/app-root/app-vatandas/div[2]/app-vatandas-asistan-arsiv-sonuc/div/div/div[2]/div[1]/div/div/fieldset/form/div[1]/div[2]/div[2]/ng-select/div/span[2]"))).click()
dropdown_uzunluk = len(driver.find_elements_by_xpath("/html/body/app-root/app-vatandas/div[2]/app-vatandas-asistan-arsiv-sonuc/div/div/div[2]/div[1]/div/div/fieldset/form/div[1]/div[2]/div[2]/ng-select/ng-dropdown-panel/div/div[2]/div"))
WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, "/html/body/app-root/app-vatandas/div[2]/app-vatandas-asistan-arsiv-sonuc/div/div/div[2]/div[1]/div/div/fieldset/form/div[1]/div[2]/div[2]/ng-select/div/span[2]"))).click()
data2 = []
for i in range(1, 1+dropdown_uzunluk):
    try:
        WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, "/html/body/app-root/app-vatandas/div[2]/app-vatandas-asistan-arsiv-sonuc/div/div/div[2]/div[1]/div/div/fieldset/form/div[1]/div[2]/div[2]/ng-select/div/span[2]"))).click()
    except ElementClickInterceptedException:
        time.sleep(1)
        WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, "/html/body/app-root/app-vatandas/div[2]/app-vatandas-asistan-arsiv-sonuc/div/div/div[2]/div[1]/div/div/fieldset/form/div[1]/div[2]/div[2]/ng-select/div/span[2]"))).click()
    try:
        WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, f"/html/body/app-root/app-vatandas/div[2]/app-vatandas-asistan-arsiv-sonuc/div/div/div[2]/div[1]/div/div/fieldset/form/div[1]/div[2]/div[2]/ng-select/ng-dropdown-panel/div/div[2]/div[{i}]"))).click()
    except ElementClickInterceptedException:
        time.sleep(1)
        WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, f"/html/body/app-root/app-vatandas/div[2]/app-vatandas-asistan-arsiv-sonuc/div/div/div[2]/div[1]/div/div/fieldset/form/div[1]/div[2]/div[2]/ng-select/ng-dropdown-panel/div/div[2]/div[{i}]"))).click()
    try:
        WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, "/html/body/app-root/app-vatandas/div[2]/app-vatandas-asistan-arsiv-sonuc/div/div/div[2]/div[1]/div/div/fieldset/form/div[2]/div/div/button"))).click()
    except  ElementClickInterceptedException:
        time.sleep(1)
        WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, "/html/body/app-root/app-vatandas/div[2]/app-vatandas-asistan-arsiv-sonuc/div/div/div[2]/div[1]/div/div/fieldset/form/div[2]/div/div/button"))).click()
    data = []
    buton_uzunluk = len(WebDriverWait(driver, 20).until(EC.visibility_of_all_elements_located((By.XPATH, "/html/body/app-root/app-vatandas/div[2]/app-vatandas-asistan-arsiv-sonuc/div/div/div[2]/div[1]/div/div/app-yurtici-muhtarlik-listesi/fieldset/div[1]/ngb-pagination/ul/li"))))
    son_sayfa = int(WebDriverWait(driver, 20).until(EC.visibility_of_element_located((By.XPATH, f'/html/body/app-root/app-vatandas/div[2]/app-vatandas-asistan-arsiv-sonuc/div/div/div[2]/div[1]/div/div/app-yurtici-muhtarlik-listesi/fieldset/div[1]/ngb-pagination/ul/li[{buton_uzunluk-2}]/a'))).text)
    df = pd.read_html(driver.find_element_by_xpath("//*[@id='sonuc-table']").get_attribute('outerHTML'))[0]
    data.append(df)    
    for i in range(0, son_sayfa + 1):
        buton_uzunluk = len(driver.find_elements_by_xpath("/html/body/app-root/app-vatandas/div[2]/app-vatandas-asistan-arsiv-sonuc/div/div/div[2]/div[1]/div/div/app-yurtici-muhtarlik-listesi/fieldset/div[1]/ngb-pagination/ul/li"))
        try:
            WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, f"/html/body/app-root/app-vatandas/div[2]/app-vatandas-asistan-arsiv-sonuc/div/div/div[2]/div[1]/div/div/app-yurtici-muhtarlik-listesi/fieldset/div[1]/ngb-pagination/ul/li[{buton_uzunluk-1}]"))).click()
        except  ElementClickInterceptedException:
            time.sleep(0.2)
            WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, f"/html/body/app-root/app-vatandas/div[2]/app-vatandas-asistan-arsiv-sonuc/div/div/div[2]/div[1]/div/div/app-yurtici-muhtarlik-listesi/fieldset/div[1]/ngb-pagination/ul/li[{buton_uzunluk-1}]"))).click()
        df = pd.read_html(driver.find_element_by_xpath("//*[@id='sonuc-table']").get_attribute('outerHTML'))[0]
        data.append(df)
    data1 = pd.concat(data)
    data2.append(data1)
data3 = pd.concat(data2)
data3.drop(['Bilgi', '* Tutanaklar'], axis=1, inplace=True) 
data3 = data3.dropna(subset=['İlçe Adı'])
